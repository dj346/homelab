apiVersion: external-secrets.io/v1alpha1
kind: PushSecret
metadata:
  name: authelia-eso-cookie-session-encryption-key-push-secret
  namespace: authelia-prod-d1
spec:
  refreshInterval: "0"
  updatePolicy: Replace
  deletionPolicy: None

  secretStoreRefs:
    - kind: ClusterSecretStore
      name: eso-vault-store

  selector:
    generatorRef:
      apiVersion: generators.external-secrets.io/v1alpha1
      kind: Password
      name: authelia-eso-cookie-session-encryption-key-generator

  data:
    - match:
        secretKey: key
        remoteRef:
          remoteKey: authelia/prod-d1/cookie-session-encryption-key
          property: key