kind: Secret
apiVersion: v1
metadata:
  name: ldap-config
  namespace: grafana
  labels:
    app.kubernetes.io/name: grafana
    app.kubernetes.io/component: app
stringData:
  ldap-toml: |-
    verbose_logging = true

    [[servers]]
    host = "lldap-service.lldap.svc.cluster.local"
    port = 3890
    
    use_ssl = false
    start_tls = false
    ssl_skip_verify = true
    
    bind_dn = "uid=grafana-service,ou=people,dc=mclacken,dc=net"
    bind_password = "d7wmy6SlNk1AXYR4"
    
    search_filter = "(&(uid=%s)(memberOf=cn=grafana-users,ou=groups,dc=mclacken,dc=net))"

    search_base_dns = ["dc=mclacken,dc=net"]

    [servers.attributes]
    member_of = "memberOf"
    email = "mail"
    name = "displayName"
    surname = "sn"
    username = "uid"