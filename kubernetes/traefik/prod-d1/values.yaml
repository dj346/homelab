additionalArguments:
      - "--entrypoints.ldaps.address=:636/tcp"
      - "--entrypoints.sftp.address=:22/tcp"
      - "--providers.file.filename=/config/config.yaml"
      - "--providers.file.watch=true"
      # - "--tracing=true"
      
ports:
  ldaps:
    port: 636
    expose:
      default: true
    exposedPort: 636
    protocol: TCP
    tls:
      enabled: true
  sftp:
    port: 22
    expose:
      default: true
    exposedPort: 22
    protocol: TCP
    # tls:
    #   enabled: true
  web:
    redirections:
      entryPoint:
        to: websecure
        scheme: https
        permanent: true  # <-- Change this to false if you want a temporary redirect
    transport:
      respondingTimeouts:
        readTimeout: 600s
        writeTimeout: 600s
        idleTimeout: 600s
  websecure:
    transport:
      respondingTimeouts:
        readTimeout: 600s
        writeTimeout: 600s
        idleTimeout: 600s
ingressRoute:
  dashboard:
    enabled: true
    entryPoints: [websecure]
    matchRule: Host(`traefik-dashboard.kube-prod-d1.mclacken.net`)
    tls:
      secretName: traefik-dashboard-certificate-secret

tracing:
  addInternals: true
  serviceName: traefik
  resourceAttributes:
    service_name: traefik

  otlp:
    enabled: true
    http:
      enabled: true
      endpoint: "http://alloy.alloy.svc.cluster.local:4318/v1/traces"
    # grpc:
    #   enabled: true
    #   endpoint: "alloy.alloy.svc.cluster.local:4317"
    #   insecure: true

volumes:
  - name: traefik-configmap
    mountPath: "/config"
    type: configMap

service:
  enabled: true
  ## -- Single service is using `MixedProtocolLBService` feature gate.
  ## -- When set to false, it will create two Service, one for TCP and one for UDP.
  type: LoadBalancer
  loadBalancerIP: 10.15.21.29