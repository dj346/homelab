apiVersion: seaweed.seaweedfs.com/v1
kind: Seaweed
metadata:
  name: seaweed-sample
  namespace: default
spec:
  image: chrislusf/seaweedfs:latest@sha256:d0264e1bc39cb645f862620c5a92892ec7dd6eadff1df750608e743daa727f44
  volumeServerDiskCount: 1
  hostSuffix: seaweed.abcdefg.com
  master:
    replicas: 3
    volumeSizeLimitMB: 1024
  volume:
    replicas: 1
    requests:
      storage: 2Gi
  filer:
    replicas: 2
    # s3: true          # Enable S3 API
    iam: true         # Enable embedded IAM
    config: |
      [leveldb2]
      enabled = true
      dir = "/data/filerldb2"
  # Optional: Standalone IAM service
  # iam:
  #   replicas: 1
  #   port: 8111