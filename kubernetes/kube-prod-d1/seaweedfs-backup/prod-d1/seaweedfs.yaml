apiVersion: seaweed.seaweedfs.com/v1
kind: Seaweed
metadata:
  name: seaweed-sample
  namespace: seaweedfs-backup
spec:
  image: chrislusf/seaweedfs:latest
  volumeServerDiskCount: 1
  # hostSuffix: seaweed.abcdefg.com
  master:
    replicas: 3
    volumeSizeLimitMB: 1024
  volume:
    replicas: 1
    requests:
      storage: 2Gi
  filer:
    replicas: 2
    s3: true          # Enable S3 API
    iam: true         # Enable embedded IAM
    config: |
      [leveldb2]
      enabled = true
      dir = "/data/filerldb2"
  # Optional: Standalone IAM service
  # iam:
  #   replicas: 1
  #   port: 8111