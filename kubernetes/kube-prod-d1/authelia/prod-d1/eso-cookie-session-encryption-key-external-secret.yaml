# Should probably merged into a signle file with the other ExternalSecrets

apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: authelia-eso-cookie-session-encryption-key-external-secret
  namespace: authelia-prod-d1
  labels:
    app.kubernetes.io/name: authelia
    app.kubernetes.io/component: program-secret
    app.kubernetes.io/instance: authelia-prod-d1
    app.kubernetes.io/managed-by: argocd
spec:
  refreshInterval: 1h
  secretStoreRef:
    kind: ClusterSecretStore
    name: eso-vault-store
  target:
    name: authelia-cookie-session-encryption-key-secret
  data:
    - secretKey: token
      remoteRef:
        key: authelia/prod-d1/cookie-session-encryption-key
        property: key
